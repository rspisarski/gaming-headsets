---
import Layout from "../layouts/Layout.astro";
import HeadsetFilters from "../components/HeadsetFilters.astro";
import { getCollection } from "astro:content";

const headsets = await getCollection("headsets");
const headsetData = headsets.map((headset) => ({
    ...headset.data,
    slug: headset.slug,
}));
---

<Layout
    title="All Gaming Headsets - Goop Finder"
    description="Browse and filter our extensive database of gaming headsets by specs, features, and compatibility."
>
    <div class="min-h-screen bg-black">
        <main class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h1 class="text-4xl font-bold text-text mb-4">All Headsets</h1>
                <p class="text-text/70 text-lg">
                    Use the filters below to find your perfect gaming headset
                    match.
                </p>
            </div>
            <HeadsetFilters headsets={headsetData} />
        </main>
    </div>
</Layout>
